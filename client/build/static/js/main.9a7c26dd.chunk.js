(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,a){},43:function(e,t){e.exports="data:image/jpeg;base64,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"},44:function(e,t,a){e.exports=a(79)},53:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),o=a(5),i=a(6),s=a(8),d=a(7),u=a(9),p=a(3),A=a(19),m=a(18),h=a(4),E=a(2),g={loginData:{},loginLoading:!1,loginFailed:!1,userSigned:!1,userName:""},f=function(){return console.log("Loginuserloading"),{type:"LOGIN_LOADING"}},y=function(e){return{type:"LOGIN_SUCCESS",payload:e}},b=function(){return{type:"LOGIN_FAILED"}},v=function(e){return console.log(e),{type:"LOGIN_USER_SUCCESS",payload:e}},C=function(e){return{type:"SAVE_USER_NAME",userName:e}},O=(a(53),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).onLoginClick=function(){a.props.loginUser(a.state),a.setState({userSigned:!0})},a.handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.redirectToMain=function(){if(a.state.userSigned)return r.a.createElement(A.a,{to:"/expenses"})},a.state={email:"",password:"",userSigned:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.redirectToMain(),r.a.createElement("div",{id:"login"},r.a.createElement("div",{className:"box-container",id:"login2"},r.a.createElement("form",null,r.a.createElement("p",{className:"input-container"},r.a.createElement("label",{className:"text-field-input"},"Email",r.a.createElement("input",{type:"text",className:"text-field",name:"email",onChange:this.handleChange}))),r.a.createElement("p",{className:"input-container"},r.a.createElement("label",{className:"text-field-input"},"Password",r.a.createElement("input",{type:"password",className:"text-field",name:"password",onChange:this.handleChange}))),r.a.createElement("button",{type:"button",className:"primary-button",onClick:this.onLoginClick},"Sign in")))),r.a.createElement("div",{className:"TextDiv"},r.a.createElement("p",null,"Or if you don`t have an account, ",r.a.createElement(p.b,{to:"/register"},"Register."))))}}]),t}(r.a.Component)),N=Object(h.b)((function(e){return console.log(e),{loginLoading:e.loginReducer.loginLoading,loginFailed:e.loginReducer.loginFailed,userName:e.userName}}),(function(e){return{loginUser:function(t,a){return e(function(e){return console.log(e),function(t){t(f()),fetch("https://young-bastion-52459.herokuapp.com/api/v1/auth/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e.jwt),localStorage.setItem("jwt",e.jwt),localStorage.setItem("first_name",e.first_name),console.log(e.first_name),localStorage.setItem("last_name",e.last_name);var a=e.first_name+" "+e.last_name;console.log(a),t(C(a)),console.log(e),t(y(e)),t(v(e.signed))})).catch((function(e){t(b()),t(v(!1))}))}}(t))}}}))(O),P={registerData:{},registerLoading:!1,registerFailed:!1},S=function(){return{type:"REGISTER_LOADING"}},j=function(e){return{type:"REGISTER_SUCCESS",payload:e}},k=function(){return{type:"REGISTER_FAILED"}},T=(a(55),a(56),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.onRegisterClick=function(){a.props.registerUser(a.state)},a.state={first_name:"",last_name:"",email:"",date_of_birth:"",telephone:"",country:"",password:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"register"},r.a.createElement("div",{className:"box-container",id:"register-box"},r.a.createElement("form",null,r.a.createElement("p",{className:"input-container"},r.a.createElement("label",{className:"text-field-input"},"First Name",r.a.createElement("input",{type:"text",className:"text-field",name:"first_name",onChange:this.handleChange}))),r.a.createElement("p",{className:"input-container"},r.a.createElement("label",{className:"text-field-input"},"Last Name",r.a.createElement("input",{type:"text",className:"text-field",name:"last_name",onChange:this.handleChange}))),r.a.createElement("p",{className:"input-container"},r.a.createElement("label",{className:"text-field-input"},"Email",r.a.createElement("input",{type:"text",className:"text-field",name:"email",onChange:this.handleChange}))),r.a.createElement("p",{className:"input-container"},r.a.createElement("label",{className:"text-field-input"},"Date of Birth",r.a.createElement("input",{type:"date",className:"text-field",name:"date_of_birth",onChange:this.handleChange}))),r.a.createElement("p",{className:"input-container"},r.a.createElement("label",{className:"text-field-input"},"Telephone",r.a.createElement("input",{type:"text",className:"text-field",name:"telephone",onChange:this.handleChange}))),r.a.createElement("p",{className:"input-container"},r.a.createElement("label",{className:"text-field-input"},"Country",r.a.createElement("input",{type:"text",className:"text-field",name:"country",onChange:this.handleChange}))),r.a.createElement("p",{className:"input-container"},r.a.createElement("label",{className:"text-field-input"},"Password",r.a.createElement("input",{type:"password",className:"text-field",name:"password",onChange:this.handleChange}))),r.a.createElement("button",{type:"button",className:"primary-button",onClick:this.onRegisterClick},"Register"))),r.a.createElement("div",{className:"TextDiv",id:"register-text"},r.a.createElement("p",null,"Or if you already have an account, ",r.a.createElement("a",{href:"/"},"Sign in"),". "))))}}]),t}(r.a.Component)),D=Object(h.b)((function(e){return{registerLoading:e.registerLoading,registerFailed:e.registerFailed}}),(function(e){return{registerUser:function(t){return e(function(e){return console.log(e),function(t){t(S()),fetch("https://young-bastion-52459.herokuapp.com/api/v1/auth/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(a){t(j(e)),localStorage.setItem("first_name",a.data.first_name),localStorage.setItem("last_name",a.data.last_name)})).catch((function(e){t(k())}))}}(t))}}}))(T),x=a(14),w=a.n(x),L=(a(74),function(e){return{type:"GET_PRODUCTS",payload:e}}),I=function(e){return{type:"EXPENSES_CLICKED",expensesClicked:e}},R=function(e){return{type:"EDIT_PRODUCT_CLICKED",editProductClicked:e}},_=function(e){return{type:"TABLE_UPDATED",tableUpdated:e}},U=a(20),F=a(41),G={productData:[],productLoading:!1,productFailed:!1},M=function(){return{type:"PRODUCT_LOADING"}},B=function(e){return{type:"PRODUCT_SUCCESS",payload:e}},H=function(){return{type:"PRODUCT_FAILED"}},z=a(42),W={products:[],expensesClicked:!1,totalPrice:"",editProductClicked:"",productToEdit:"",tableUpdated:!1};var Z=Object(U.c)({registerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SUCCESS":return Object(E.a)({},e,{registerLoading:!1,registerFailed:!1});case"REGISTER_FAILED":return Object(E.a)({},e,{registerLoading:!1,registerFailed:!0});case"REGISTER_LOADING":return Object(E.a)({},e,{registerLoading:!0,registerFailed:!1});default:return e}},loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(console.log(e),t.type){case"LOGIN_SUCCESS":return Object(E.a)({},e,{loginLoading:!1,loginFailed:!1});case"LOGIN_FAILED":return Object(E.a)({},e,{loginLoading:!1,loginFailed:!0});case"LOGIN_LOADING":return Object(E.a)({},e,{loginLoading:!0,loginFailed:!1});case"LOGIN_USER_SUCCESS":return console.log(t.payload),Object(E.a)({},e,{userSigned:t.payload});case"SAVE_USER_NAME":return Object(E.a)({},e,{userName:t.userName});default:return e}},addProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_SUCCESS":return Object(E.a)({},e,{productLoading:!1,productFailed:!1});case"PRODUCT_FAILED":return Object(E.a)({},e,{productLoading:!1,productFailed:!0});case"PRODUCT_LOADING":return Object(E.a)({},e,{productLoading:!0,productFailed:!1});default:return e}},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(E.a)({},e,{products:t.payload});case"DELETE_PRODUCT":var a=e.products.filter((function(e){return t.payload._id!==e._id}));return Object(E.a)({},e,{products:a});case"GET_TOTAL_PRICE":return Object(E.a)({},e,{totalPrice:t.payload});case"EDIT_PRODUCT":return Object(E.a)({},e,{productToEdit:t.product});case"EDIT_PRODUCT_CLICKED":return Object(E.a)({},e,{editProductClicked:t.editProductClicked});case"TABLE_UPDATED":return Object(E.a)({},e,{tableUpdated:t.tableUpdated});case"EXPENSES_CLICKED":return Object(E.a)({},e,{expensesClicked:t.expensesClicked});default:return e}}}),Y=Object(U.d)(Z,Object(U.a)(z.logger,F.a)),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).filterHandler=function(e){a.setState({filterOption:e.target.value})},a.newProductHandler=function(){a.setState({clicked:!0}),Y.dispatch(R(a.state.clicked))},a.state={clicked:!1,filterOption:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){null!==this.state.filterOption&&w.a.get("https://young-bastion-52459.herokuapp.com/api/v1/products/?sort=".concat(this.state.filterOption),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){Y.dispatch(L(e.data))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement(this.props.header,null),r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"products-div"},r.a.createElement("h3",null,"Products"),r.a.createElement("label",{htmlor:"sort"},"Filter by:",r.a.createElement("select",{name:"sort",id:"sort",onChange:this.filterHandler},r.a.createElement("option",{value:"date:desc"},"Last Purchase"),r.a.createElement("option",{value:"date:asc"},"First Purchase"),r.a.createElement("option",{value:"price:desc"},"Highest Price"),r.a.createElement("option",{value:"price:asc"},"Lowest Price"))))),r.a.createElement(this.props.table,null),r.a.createElement(p.b,{to:"/newproduct"},r.a.createElement("button",{className:"newproduct-button",onClick:this.newProductHandler},"NEW PRODUCT")),r.a.createElement("script",{src:"https://kit.fontawesome.com/c449c1f62a.js"}))}}]),t}(r.a.Component),X=Object(h.b)((function(e){return{products:e.data}}))(K),Q=(a(75),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).monthlySelect=function(){a.setState({yearlyDisplay:!1,monthlyDisplay:!0,active:!0,filter:null,yearlySelected:"all"})},a.yearlySelect=function(){a.setState({monthlyDisplay:!1,yearlyDisplay:!0,active:!1,filter:null,yearlySelected:"all"})},a.yearlySelectHandler=function(e){a.setState({yearlySelected:e.target.value})},a.monthlySelectHandler=function(e){a.setState({filter:e.target.value})},a.state={monthlyDisplay:!1,yearlyDisplay:!0,active:!1,yearlySelected:null,filter:null},a.year=(new Date).getFullYear()-20,a.years=Array.from(new Array(21),(function(e,t){return t+a.year})),a.months=["January","February","March","April","May","June","July","August","September","October","November","December"],a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){if("all"===this.state.yearlySelected)w.a.get("https://young-bastion-52459.herokuapp.com/api/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){Y.dispatch(L(e.data))})).catch((function(e){console.log(e)}));else if(null==this.state.yearlySelected||4!==this.state.yearlySelected.length||this.state.monthlyDisplay){if(null!=this.state.filter&&null!=this.state.yearlySelected&&this.state.monthlyDisplay){for(var e,t=0;t<this.months.length;t++)this.state.filter===this.months[t]&&(e=t+1,1===t.toString().length&&(e="0"+e.toString()));var a=new Date("".concat(this.state.yearlySelected,"-").concat(e,"-01 00:00:00.000")).getTime(),n=new Date("".concat(this.state.yearlySelected,"-").concat(e,"-31 23:59:59.000")).getTime();w.a.get("https://young-bastion-52459.herokuapp.com/api/v1/products/?date_from=".concat(a,"&date_to=").concat(n),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){Y.dispatch(L(e.data))})).catch((function(e){return console.log(e)}))}}else{var r=new Date("".concat(this.state.yearlySelected,"-01-01 00:00:00.000")).getTime(),c=new Date("".concat(this.state.yearlySelected,"-12-31 23:59:59.000")).getTime();w.a.get("https://young-bastion-52459.herokuapp.com/api/v1/products/?date_from=".concat(r,"&date_to=").concat(c),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){Y.dispatch(L(e.data))})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){var e=r.a.createElement("select",{name:"year-select",className:"month-select",onChange:this.yearlySelectHandler},r.a.createElement("option",{defaultChecked:!0,value:"all"}," ALL"),this.years.map((function(e,t){return r.a.createElement("option",{key:"year".concat(t),value:e},e)}))),t=r.a.createElement("select",{name:"month-select",className:"month-select select-box",onChange:this.monthlySelectHandler},r.a.createElement("option",{defaultChecked:!0},"Month"),this.months.map((function(e,t){return r.a.createElement("option",{key:"month".concat(t),value:e},e)}))),a=r.a.createElement("div",{className:"yearMonthly-div"},t,e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(this.props.header,null),r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"products-div"},r.a.createElement("h3",null,"Expenses")),r.a.createElement("div",{className:"tabs-div"},r.a.createElement(p.b,{to:"#"},r.a.createElement("button",{id:"month-button",className:this.state.active?"select-btns":"active-btn select-btns",onClick:this.monthlySelect},"Monthly")),r.a.createElement(p.b,{to:"#"},r.a.createElement("button",{id:"year-button",className:this.state.active?"active-btn select-btns":"select-btns",onClick:this.yearlySelect},"Yearly")),r.a.createElement("div",{className:"option-select-div"},this.state.monthlyDisplay?r.a.createElement("label",{htmlFor:"month-select"},"Choose Month"):r.a.createElement("label",{htmlFor:"year-select"}),this.state.monthlyDisplay?a:e))),r.a.createElement(this.props.table,null),r.a.createElement("div",{className:"transparent-div"},r.a.createElement("p",null,"Total spent: ",r.a.createElement("span",null,this.props.totalPrice)," den. ")))}}]),t}(r.a.Component));var J=Object(h.b)((function(e){return{totalPrice:e.reducer.totalPrice}}))(Q),V=(a(76),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.onProductClick=function(){a.props.addProduct(a.state)},a.editProduct=function(e){""===a.state.name||""===a.state.type||""===a.state.description||""===a.state.date||""===a.state.price?(alert("Please fill the fields!"),e.preventDefault()):(Y.dispatch(_(!a.state.tableUpdated)),w.a.put("https://young-bastion-52459.herokuapp.com/api/v1/products/".concat(a.props.productToEdit._id),{name:a.state.name,description:a.state.description,type:a.state.type,date:a.state.date,price:a.state.price,_modified:new Date},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))},a.state={name:a.props.editProductClicked?a.props.productToEdit.name:"",description:a.props.editProductClicked?a.props.productToEdit.description:"",type:a.props.editProductClicked?a.props.productToEdit.type:"",date:a.props.editProductClicked?a.props.productToEdit.date:"",price:a.props.editProductClicked?a.props.productToEdit.price:"",tableUpdated:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"new-product-div"},r.a.createElement(this.props.header,null),this.props.editProductClicked?r.a.createElement("h3",{id:"new-products-h3"},"Edit Product"):r.a.createElement("h3",{id:"new-products-h3"},"New Product"),r.a.createElement("div",{className:"center-div"},r.a.createElement("div",{className:"left2-div"},r.a.createElement("form",null,r.a.createElement("p",{className:"input-container-product"},r.a.createElement("label",{className:"text-field-input-product"},"Product Name"),r.a.createElement("input",{defaultValue:this.props.editProductClicked?this.props.productToEdit.name:"",type:"text",className:"text-field-product",name:"name",onChange:this.handleChange})),r.a.createElement("p",{className:"input-container-product"},r.a.createElement("label",{defaultValue:this.props.editProductClicked?this.props.productToEdit.description:"",className:"text-field-input-product"},"Product Description"),r.a.createElement("input",{type:"text",className:"text-field-product",name:"description",onChange:this.handleChange})),r.a.createElement("p",{className:"input-container-product"},r.a.createElement("label",{defaultValue:this.props.editProductClicked?this.props.productToEdit.type:"",className:"text-field-input-product"},"Product Type"),r.a.createElement("input",{type:"text",className:"text-field-product",name:"type",onChange:this.handleChange})),r.a.createElement("p",{className:"input-container-product"},r.a.createElement("label",{defaultValue:this.props.editProductClicked?this.props.productToEdit.date.toString().slice(0,10):"",className:"text-field-input-product"},"Purchase Date"),r.a.createElement("input",{type:"date",className:"text-field-product",name:"date",onChange:this.handleChange})),r.a.createElement("p",{className:"input-container-product"},r.a.createElement("label",{defaultValue:this.props.editProductClicked?Number(this.props.productToEdit.price):"",className:"text-field-input-product"},"Product Price"),r.a.createElement("input",{type:"text",className:"text-field-product",name:"price",onChange:this.handleChange})),r.a.createElement(p.b,{to:"/products"},this.props.editProductClicked?r.a.createElement("button",{type:"button",className:"primary-button-product",onClick:this.editProduct}," Edit Product"):r.a.createElement("button",{type:"button",className:"primary-button-product",onClick:this.onProductClick},"Create product")))),r.a.createElement("div",{className:"right2-div"},this.props.editProductClicked?r.a.createElement("p",{id:"product-text"},"You are editing a  product"):r.a.createElement("p",{id:"product-text"},"You are creating a new product")))))}}]),t}(r.a.Component)),q=Object(h.b)((function(e){return{productLoading:e.productLoading,productFailed:e.productFailed,productToEdit:e.reducer.productToEdit,editProductClicked:e.reducer.editProductClicked,tableUpdated:e.reducer.tableUpdated}}),(function(e){return{addProduct:function(t){return e(function(e){return console.log(e),function(t){t(M()),fetch("https://young-bastion-52459.herokuapp.com/api/v1/products/",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){return e.json()})).then((function(e){t(B(e))})).catch((function(e){t(H())}))}}(t))}}}))(V);a(26);var $=Object(h.b)((function(e){return{expensesClicked:e.reducer.expensesClicked}}))((function(e){return r.a.createElement("tr",{className:"body-tr"},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.date.toString().slice(0,10)),r.a.createElement("td",null,e.price),e.expensesClicked?null:r.a.createElement(e.tableTools,{editProduct:e.editProduct,deleteProduct:e.deleteProduct}))})),ee=function(e){return r.a.createElement("td",null,r.a.createElement(p.b,{to:"/edit-product"},r.a.createElement("button",{id:"edit-button",onClick:e.editProduct},r.a.createElement("i",{className:"far fa-edit"}))),r.a.createElement("button",{id:"delete-button",onClick:e.deleteProduct},r.a.createElement("i",{className:"far fa-trash-alt"})))},te=(a(77),function(e){return r.a.createElement("div",{id:"alert-div",className:"delete"},r.a.createElement("div",{id:"alert-container"},r.a.createElement("div",{id:"alert-text-container"},r.a.createElement("h1",null,"Delete Product"),r.a.createElement("p",null,"You are about to delete this product. Are you sure you wish to continue ?")),r.a.createElement("div",{id:"alert-buttons"},r.a.createElement("button",{className:"alert-btn",id:"cancel-alert-btn",onClick:e.hide},"CANCEL"),r.a.createElement("button",{className:"alert-btn",id:"delete-alert-btn",onClick:e.delete},"DELETE"))))}),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).hideAlert=function(){a.setState({alertShow:!1})},a.editProduct=function(e){var t=!a.state.editProductClicked;Y.dispatch(function(e,t){return{type:"EDIT_PRODUCT",product:e,editProductClicked:t}}(e)),Y.dispatch(R(t))},a.deleteProduct=function(e,t){a.setState({alertShow:!1}),w.a.delete("https://young-bastion-52459.herokuapp.com/api/v1/products/".concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){console.log(t),Y.dispatch(function(e){return{type:"DELETE_PRODUCT",payload:e}}(e))})).catch((function(e){console.log(e)}))},a.deleteProductHandler=function(e){a.setState({product:e}),a.setState({alertShow:!0})},a.state={product:null,alertShow:!1,editProductClicked:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getProducts(),this.props.products&&(console.log(this.props.products),w.a.get("https://young-bastion-52459.herokuapp.com/api/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e),console.log("entered then in get"),Y.dispatch(L(e.data));for(var t=0,a=0;a<e.data.length;a++)t+=parseInt(e.data[a].price);Y.dispatch({type:"GET_TOTAL_PRICE",payload:t}),console.log(t)})).catch((function(e){console.log(e)})))}},{key:"componentDidUpdate",value:function(){this.props.tableUpdated&&w.a.get("https://young-bastion-52459.herokuapp.com/api/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){Y.dispatch(L(e.data)),Y.dispatch(_(!1))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=null;this.props.products&&(console.log(this.props.products),t=this.props.products.map((function(t,a){return r.a.createElement($,{key:t+a,name:t.name,deleteProduct:function(){return e.deleteProductHandler(t)},editProduct:function(){return e.editProduct(t)},description:t.description,type:t.type,date:t.date,price:t.price,tableTools:ee})})));var a=null;return this.state.alertShow&&(a=r.a.createElement(te,{hide:this.hideAlert,delete:function(){return e.deleteProduct(e.state.product,e.state.product._id)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"table-div"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Product Type"),r.a.createElement("th",null,"Product Description"),r.a.createElement("th",null,"Purchase Date"),r.a.createElement("th",null,"Product Price"),this.props.expensesClicked?null:r.a.createElement("th",null,"Product Options"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"empty-td"})),t))),a)}}]),t}(r.a.Component);var ne=Object(h.b)((function(e){return{products:e.reducer.products,expensesClicked:e.reducer.expensesClicked,tableUpdated:e.reducer.tableUpdated}}),(function(e){return{getProducts:function(){e(L())}}}))(ae),re=a(43),ce=a.n(re),le=(a(78),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).signOut=function(){console.log("SIGN OUT CLICKED"),localStorage.clear()},a.expensesClicked=function(){Y.dispatch(I(!a.state.expensesClicked))},a.productsClicked=function(){Y.dispatch(I(a.state.expensesClicked))},a.state={expensesClicked:!1,toggle:!1,active:!0,name:a.props.userName},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("first_name")+" "+localStorage.getItem("last_name");this.setState({name:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,localStorage.getItem("jwt")?null:r.a.createElement(A.a,{to:"/"}),r.a.createElement("div",{className:"nav"},r.a.createElement("div",{className:"left-div"},r.a.createElement(p.b,{to:"/products"},r.a.createElement("button",{className:"nav-btns",onClick:this.productsClicked,id:"products-button"},"PRODUCTS")),r.a.createElement(p.b,{to:"/expenses"},r.a.createElement("button",{className:"nav-btns",onClick:this.expensesClicked,id:"expenses-button"},"EXPENSES"))),r.a.createElement("div",{className:"right-div"},r.a.createElement("img",{src:ce.a,alt:"profile",className:"user-photo"}),r.a.createElement("a",{href:"/",className:"user-name",onClick:this.signOut},this.state.name))))}}]),t}(r.a.Component));var oe=Object(h.b)((function(e){return{userName:e.loginReducer.userName}}))(le),ie=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(A.d,null,r.a.createElement(A.b,{exact:!0,path:"/",component:N}),r.a.createElement(A.b,{path:"/register",component:D}),r.a.createElement(A.b,{path:"/products",render:function(){return r.a.createElement(X,{header:oe,table:ne})}}),r.a.createElement(A.b,{path:"/expenses",render:function(){return r.a.createElement(J,{header:oe,table:ne})}}),r.a.createElement(A.b,{path:"/newproduct",render:function(){return r.a.createElement(q,{header:oe})}}),r.a.createElement(A.b,{path:"/edit-product",render:function(){return r.a.createElement(q,{header:oe})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(h.a,{store:Y},r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.9a7c26dd.chunk.js.map